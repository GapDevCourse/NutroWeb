from jinja2 import Environment, FileSystemLoader
import os

# Define the path for the templates directory
template_dir = os.path.join(os.path.dirname(__file__), 'templates')

# Sample recipe data (including nutritional and health info)
recipe_data = [
    {
        "name": "Idli",
        "description": "Idli is a steamed rice cake that is light, low-calorie, and perfect for breakfast.",
        "ingredients": [
            "Rice", "Urad dal", "Water", "Salt"
        ],
        "nutritional_values": {
            "calories_per_serving": "40-50 calories",
            "total_for_4_idlis": "160-200 calories",
            "protein_g": "2-3 grams",
            "carbs_g": "6-8 grams",
            "fat_g": "1 gram",
            "fiber_g": "1-2 grams",
            "sodium_mg": "Low sodium",
            "cholesterol_mg": "Cholesterol-free"
        },
        "health_info": {
            "diabetic_suitability": "Diabetic-friendly: Low carbs and high fiber help regulate blood sugar levels.",
            "heart_health": "Heart-healthy: Low in unhealthy fats, high in antioxidants, and healthy oils.",
            "weight_loss": "Good for weight loss: Low-calorie, high in protein and fiber, aids in satiety.",
            "gluten_free": "Gluten-free: Suitable for those with gluten intolerance.",
            "high_blood_pressure": "Suitable for high blood pressure: Low in sodium, with beneficial spices.",
            "kidney_health": "Kidney-friendly: Low in potassium and phosphorus, but consult a healthcare provider for kidney disease.",
            "digestive_health": "Supports digestion: High fiber and digestive spices like ginger aid gut health.",
            "pregnancy_safe": "Safe for pregnant women: Rich in protein, iron, and folate.",
            "cholesterol_support": "Supports healthy cholesterol: High in fiber and heart-healthy fats.",
            "lactose_free": "Lactose-free: Safe for lactose-intolerant individuals.",
            "bone_health": "Supports bone health: Contains calcium from spinach and protein for bone maintenance."
        },
        "cuisine": "Indian",
        "course": "Breakfast",
        "diet": "Vegetarian",
        "prep_time": "10 mins",
        "cook_time": "15 mins",
        "instructions": "Mix rice and urad dal, ferment overnight, and steam for 10-15 minutes."
    },
    # Additional recipes can be added here following the same format
]

# Set up Jinja2 environment
env = Environment(loader=FileSystemLoader(template_dir))
template = env.get_template('recipe_template.html.j2')

# Render the template with the recipe data
output = template.render(recipes=recipe_data)

# Optionally, write to an HTML file
with open("recipe_output.html", "w") as f:
    f.write(output)
